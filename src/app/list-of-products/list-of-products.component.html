<h1>Available List of Items</h1>
<mat-progress-spinner *ngIf="isloading" mode="indeterminate" ></mat-progress-spinner>

<div class="product_container">
  <div *ngFor="let product of products$ | async " >
    <div class="product_element" *ngIf="product.Quantity > 0">
      {{ product.Quantity }} of {{ product.ProductName }}<button (click)="showForm(product)"> + </button>
    </div>
  </div>
</div>


<!-- Form to select quantity and add to cart -->
<div class="popup-form" *ngIf="selectedProduct" >
  <form (ngSubmit)="addToCart(selectedProduct)">
    <h2>Order </h2>
    <div>
      <label for="quantity">Quantity:</label>
      <input type="number" id="quantity" [(ngModel)]="quantity" name="quantity" min="1" [max]="maxQuantity" required>
      <span *ngIf="selectedProduct">Max: {{ maxQuantity }}</span>
    </div>
    <button type="submit" [disabled]="quantity <= 0 || quantity > maxQuantity">Add to Cart</button>
  </form>
</div>

